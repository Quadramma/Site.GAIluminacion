function randomIntFromInterval(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function getRelatedItems(e){function t(e,t){return e.find(".link").html().toString()==t.find(".link").html().toString()}var n=e.find("li");var r=n.length-1;var i={item1:{index:randomIntFromInterval(0,r),$sel:null},item2:{index:-1,$sel:null},item3:{index:-1,$sel:null}};while(i.item2.index==-1||i.item2.index===i.item1.index){i.item2.index=randomIntFromInterval(0,r)}while(i.item3.index==-1||i.item3.index===i.item1.index||i.item3.index===i.item2.index){i.item3.index=randomIntFromInterval(0,r)}i.item1.$sel=$(n[i.item1.index]);i.item2.$sel=$(n[i.item2.index]);i.item3.$sel=$(n[i.item3.index]);e.find("li").each(function(e,n){if(!t($(this),i.item1.$sel)&&!t($(this),i.item2.$sel)&&!t($(this),i.item3.$sel)){$(this).remove()}});return e}function bindProductClick(e,t,n){var r=$("#productModal");var i=[];if(!_.isUndefined(t.slider_urls)&&!_.isNull(t.slider_urls)&&t.slider_urls!=""){i=t.slider_urls.toString().split("$$")}e.find(".link").on("click",function(){r.find(".modal-title").html(t.categoryDescription);r.find(".modal-body").html(t.description);r.find(".modal-spect").html(t.specification);r.find(".modal-name").html(t.name);r.find(".modal-code").html(t.code);var e=$("<img/>").attr({src:GAImagePath+t.url});$(".flexslider.portfolio_single_slider").removeData("flexslider");$(".flexslider.portfolio_single_slider").flexslider("destroy");$(".modal-slider .slides").empty();_.each(i,function(e,t){$(".modal-slider .slides").append($("<li/>").append($("<img/>").attr({src:GAImageSliderPath+e})))});$(".flexslider.portfolio_single_slider").flexslider({animation:"fade",controlNav:true,directionNav:true,animationLoop:false,slideshow:false});var s=function(){coll=_.find(gaCollections,function(e){return e.id.toString()==t._category_id.toString()});return coll.$container.clone()}();s.find("li").each(function(){if(t.name.toString()==$(this).find(".link").html().toString()){$(this).remove()}});s=getRelatedItems(s);s.find("li").each(function(){var e=$(this).attr("id").replace("li-","");var t=_.find(n,function(t){return e.toString()==t._id.toString()});bindProductClick($(this),t,n)});$(".modal-related-cont").empty().append(s)})}function calculateScroll(){contentTop=[];var e=[];var t=$(window).scrollTop();var n=200;var r=500;$(".navmenu").find(".scroll_btn a").each(function(){if($($(this).attr("href")).offset()){contentTop.push($($(this).attr("href")).offset().top);e.push($($(this).attr("href")).offset().top+$($(this).attr("href")).height())}});$.each(contentTop,function(i){if(t>contentTop[i]-n&&t<e[i]-r){}})}function homeHeight(){var e=jQuery(window).height()-80;jQuery(".top_slider, .top_slider .slides li").css("height",e)}function blogHeight(){if($(window).width()>991){var e=jQuery(window).height()-80;jQuery("#blog").css("min-height",e)}}function contactHeight(){if($(window).width()>991){var e=jQuery("footer").height()+70}}var GAImagePath="_admin/uploads/";var GAImageSliderPath="_admin/uploads/slider/";var $GACollectionCollectionTemplate=null;var $liClone=null;$(function(){$GACollectionCollectionTemplate=$(".ga-collection").detach();$liClone=$(".ga-collection-work_item").detach().clone()});var GACollection=function(e){var t={id:e.id,name:e.name,data:e.data,$target:e.$target};var n="142px";var r=false;var i=$GACollectionCollectionTemplate.clone();i.attr("id","collection-"+t.id).appendTo(t.$target);var s=i.find("h3 a").detach();i.find("h3").html(t.name).append(s);var o=$("#"+i.attr("id")).find(".body");var u=i.find(".body ul");u.empty();for(var a=0;a<t.data.length;a++){var f=t.data[a];var l=$("<li/>").append($liClone.clone());l.attr("id","li-"+f._id);l.find(".img").attr({src:GAImagePath+f.url,width:"124px",height:"124px"});l.find(".link").html(f.name);bindProductClick(l,f,t.data);u.append(l)}o.scrollbox({direction:"h",linear:true,delay:0,speed:2,autoPlay:false});t.$container=o;i.find(".ga-collection-backward").click(function(){console.log("backward click");o.trigger("backward")});i.find(".ga-collection-forward").click(function(){console.log("forward click");o.trigger("forward")});i.find(".ga-collection-expand").click(function(){console.log("expand click + "+o.find("li").length);if(!r){var e=o.height();o.css({height:"auto"});var t=o.height();o.height(e).animate({height:t},"swing");r=true}else{o.animate({height:n},"swing");r=false}});console.log("GACollection["+t.name+"]");return t};drawGACollections=function(e,t){function n(t,n,r){gaCollections.push(new GACollection({name:n,id:t,data:r,$target:e}))}gaCollections=[];t=_.sortBy(t,function(e){return e._category_id});var r=null;var i=[],s="",o=null,u="";_.each(t,function(e,t){o=e._category_id;s=e.categoryDescription;if(r==null){r=o;u=s}if(o!=r){n(r,u,i);i=[];r=o;u=s}i.push(e)});n(r,u,i)};var fixed_menu=true;window.jQuery=window.$=jQuery;jQuery(window).load(function(){setTimeout("jQuery('#preloader').animate({'opacity' : '0'},300,function(){jQuery('#preloader').hide()})",800);setTimeout("jQuery('.preloader_hide, .selector_open').animate({'opacity' : '1'},500)",800);setTimeout("jQuery('footer').animate({'opacity' : '1'},500)",2e3)});$(document).on("ready",function(){setTimeout(function(){$("body").css({"margin-bottom":"0px"});console.log("SET 0")},4e3)});$(function(){$("a[href*=#]:not([href=#])").click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var e=$(this.hash);e=e.length?e:$("[name="+this.hash.slice(1)+"]");if(e.length){$("html,body").animate({scrollTop:e.offset().top},1e3);return false}}})});$(function(){function t(){e.each(function(){var e=$(this);e.removeClass("active")})}function n(){e.each(function(){var e=$(this);e.on("click",function(){t();e.addClass("active");console.log("SELECTED "+e.html())})})}var e=$(".navmenu").find("li");n()});jQuery(document).ready(function(){if($(window).width()<768){jQuery(".menu_block .container").prepend('<a href="javascript:void(0)" class="menu_toggler"><span class="fa fa-align-justify"></span></a>');jQuery("header .navmenu").hide();jQuery(".menu_toggler, .navmenu ul li a").click(function(){jQuery("header .navmenu").slideToggle(300)})}});jQuery(document).ready(function(){if($(window).width()>=768){$(".navmenu ul").superfish()}});jQuery(window).load(function(){$(".flexslider.top_slider").flexslider({animation:"fade",controlNav:false,directionNav:true,animationLoop:false,slideshow:false,prevText:"",nextText:"",sync:"#carousel"});$("#carousel").flexslider({animation:"fade",controlNav:false,animationLoop:false,directionNav:false,slideshow:false,itemWidth:100,itemMargin:5,asNavFor:".top_slider"});homeHeight();jQuery(".flexslider.top_slider .flex-direction-nav").addClass("container")});jQuery(window).resize(function(){homeHeight()});jQuery(document).ready(function(){homeHeight()});$(document).ready(function(){var e=$(".owl-demo.team_slider");e.owlCarousel({navigation:true,pagination:false,items:3,itemsDesktop:[600,2]});jQuery(".owl-controls").addClass("container");var e=$(".owl-demo.testim_slider");e.owlCarousel({itemsCustom:[[0,1]],navigation:false,pagination:true,items:1});jQuery(".owl-controls").addClass("container")});jQuery(document).ready(function(){$("iframe").each(function(){var e=$(this).attr("src");var t="wmode=transparent";if(e.indexOf("?")!=-1){var n=e.split("?");var r=n[1];var i=n[0];$(this).attr("src",i+"?"+t+"&"+r)}else $(this).attr("src",e+"?"+t)})});jQuery(document).ready(function(){blogHeight()});jQuery(window).resize(function(){blogHeight()});jQuery(document).ready(function(){contactHeight()});jQuery(window).resize(function(){contactHeight()});jQuery(document).ready(function(){jQuery(".map_show").click(function(){jQuery("#map").addClass("showed")});jQuery(".map_hide").click(function(){jQuery("#map").removeClass("showed")})});$(function(){$(document).on("ready",function(){var e=$(".owl-demo.projects_slider");e.owlCarousel({navigation:false,pagination:false,responsive:true,items:4,itemsDesktop:[1e3,4],itemsDesktop:[600,3]})})});jQuery(document).ready(function(){$("a[rel^='prettyPhoto']").prettyPhoto()});$(window).load(function(){$(".client_img").BlackAndWhite({hoverEffect:true,webworkerPath:false,responsive:true,invertHoverEffect:false,intensity:1,speed:{fadeIn:300,fadeOut:300},onImageReady:function(e){}})})